// 이미지 오류 시 표시될 기본 이미지 생성
const fs = require('fs');
const path = require('path');

// 오류 이미지 경로
const errorImagePath = path.join(__dirname, 'image-error.png');

// 간단한 오류 이미지 생성 (Base64 인코딩된 PNG)
function generateErrorImage() {
  // 간단한 빨간 X 표시가 있는 이미지
  const errorImageBase64 = 'iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE3mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDYtMDFUMTI6MDA6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTA2LTAxVDEyOjAwOjAwKzA5OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTA2LTAxVDEyOjAwOjAwKzA5OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk2ZDI5ZGY0LTFjMjYtNGJh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';
  
  // 파일로 저장
  const buffer = Buffer.from(errorImageBase64, 'base64');
  fs.writeFileSync(errorImagePath, buffer);
  
  console.log('이미지 오류용 기본 이미지 생성 완료');
}

// 파일이 없는 경우 생성
if (!fs.existsSync(errorImagePath)) {
  generateErrorImage();
}

module.exports = {
  errorImagePath
}; 